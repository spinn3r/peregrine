<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_43) on Tue Jul 16 13:16:31 PDT 2013 -->
<TITLE>
LinuxSystemProfiler (Peregrine 0.9.0 API)
</TITLE>

<META NAME="date" CONTENT="2013-07-16">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="LinuxSystemProfiler (Peregrine 0.9.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LinuxSystemProfiler.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../peregrine/sysstat/InterfaceStat.html" title="class in peregrine.sysstat"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../peregrine/sysstat/Main.html" title="class in peregrine.sysstat"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?peregrine/sysstat/LinuxSystemProfiler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LinuxSystemProfiler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
peregrine.sysstat</FONT>
<BR>
Class LinuxSystemProfiler</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><A HREF="../../peregrine/sysstat/BaseSystemProfiler.html" title="class in peregrine.sysstat">peregrine.sysstat.BaseSystemProfiler</A>
      <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>peregrine.sysstat.LinuxSystemProfiler</B>
</PRE>
<DL>
<DT><B>All Implemented Interfaces:</B> <DD><A HREF="../../peregrine/sysstat/SystemProfiler.html" title="interface in peregrine.sysstat">SystemProfiler</A></DD>
</DL>
<HR>
<DL>
<DT><PRE>public class <B>LinuxSystemProfiler</B><DT>extends <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html" title="class in peregrine.sysstat">BaseSystemProfiler</A></DL>
</PRE>

<P>
http://www.xaprb.com/blog/2010/01/09/how-linux-iostat-computes-its-results/
 
 iostat is one of the most important tools for measuring disk performance, which
 of course is very relevant for database administrators, whether your chosen
 database is Postgres, MySQL, Oracle, or anything else that runs on
 GNU/Linux. Have you ever wondered where statistics like await (average wait for
 the request to complete) come from? If you look at the disk statistics the Linux
 kernel makes available through files such as /proc/diskstats, you won't see
 await there. How does iostat compute await? For that matter, how does it compute
 the average queue size, service time, and utilization? This blog post will show
 you how that's computed.
 
 First, let's look at the fields in /proc/diskstats. The order and location
 varies between kernels, but the following applies to 2.6 kernels. For reads and
 writes, the file contains the number of operations, number of operations merged
 because they were adjacent, number of sectors, and number of milliseconds
 spent. Those are available separately for reads and writes, although iostat
 groups them together in some cases. Additionally, you can find the number of
 operations in progress, total number of milliseconds during which I/Os were in
 progress, and the weighted number of milliseconds spent doing I/Os. Those are
 not available separately for reads and writes.
 
 The last one is very important. The field showing the number of operations in
 progress is transient - it shows you the instantaneous value, and this
 "memoryless" property means you can't use it to infer the number of I/O
 operations that are in progress on average. But the last field has memory,
 because it is defined as follows:
 
 Field 11 - weighted # of milliseconds spent doing I/Os This field is incremented
 at each I/O start, I/O completion, I/O merge, or read of these stats by the
 number of I/Os in progress (field 9) times the number of milliseconds spent
 doing I/O since the last update of this field. This can provide an easy measure
 of both I/O completion time and the backlog that may be accumulating.
 
 So the field indicates the total number of milliseconds that all requests have
 been in progress. If two requests have been waiting 100ms, then 200ms is added
 to the field. And thus it records what happened over the duration of the
 sampling interval, not just what's happening at the instant you look at the
 file. We'll come back to that later.
 
 Now, given two samples of I/O statistics and the time elapsed between them, we
 can easily compute everything iostat outputs in -dx mode. I'll take them
 slightly out of order to reflect how the computations are done internally.
 
 rrqm/s is merely the incremental merges divided by the number of seconds elapsed.
 
 wrqm/s is similarly simple, and r/s, w/s, rsec/s, and wsec/s are too.
 
 avgrq-sz is the number of sectors divided by the number of I/O operations.
 
 avgqu-sz is computed from the last field in the file - the one that has "memory"
 - divided by the milliseconds elapsed. Hence the units cancel out and you just
 get the average number of operations in progress during the time period. The
 name (short for "average queue size") is a little bit ambiguous. This value
 doesn't show how many operations were queued but not yet being serviced - it
 shows how many were either in the queue waiting, or being serviced. The exact
 wording of the kernel documentation is "as requests are given to appropriate
 struct request_queue and decremented as they finish."
 
 %util is the total time spent doing I/Os, divided by the sampling interval. This
 tells you how much of the time the device was busy, but it doesn't really tell
 you whether it's reaching its limit of throughput, because the device could be
 backed by many disks and hence capable of multiple I/O operations
 simultaneously.
 
 await is the total time for all I/O operations summed, divided by the number of
 I/O operations completed.
 
 svctm is the most complex to derive. It is the utilization divided by the
 throughput. You saw utilization above; the throughput is the number of I/O
 operations in the time interval.
 
 Although the computations and their results seem both simple and cryptic, it
 turns out that you can derive a lot of information from the relationship between
 these various numbers. This is one of those tools where a few lines of code have
 a surprising amount of meaning, which is left for the reader to understand. I'll
 get more into that in the future.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../peregrine/sysstat/LinuxSystemProfiler.html#LinuxSystemProfiler(java.util.Set, java.util.Set, java.util.Set)">LinuxSystemProfiler</A></B>(java.util.Set&lt;java.lang.String&gt;&nbsp;interfaces,
                    java.util.Set&lt;java.lang.String&gt;&nbsp;disks,
                    java.util.Set&lt;java.lang.String&gt;&nbsp;processors)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/sysstat/LinuxSystemProfiler.html#resolveMountPoint(java.lang.String)">resolveMountPoint</A></B>(java.lang.String&nbsp;path)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.math.BigDecimal</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/sysstat/LinuxSystemProfiler.html#sectorReference(java.lang.String)">sectorReference</A></B>(java.lang.String&nbsp;value)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../peregrine/sysstat/StatMeta.html" title="class in peregrine.sysstat">StatMeta</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/sysstat/LinuxSystemProfiler.html#update()">update</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Basic stat update request.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_peregrine.sysstat.BaseSystemProfiler"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class peregrine.sysstat.<A HREF="../../peregrine/sysstat/BaseSystemProfiler.html" title="class in peregrine.sysstat">BaseSystemProfiler</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#diff()">diff</A>, <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#getDisks()">getDisks</A>, <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#getInterfaces()">getInterfaces</A>, <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#getInterval()">getInterval</A>, <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#getProcessors()">getProcessors</A>, <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#rate()">rate</A>, <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#setDisks(java.util.Set)">setDisks</A>, <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#setInterfaces(java.util.Set)">setInterfaces</A>, <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#setInterval(long)">setInterval</A>, <A HREF="../../peregrine/sysstat/BaseSystemProfiler.html#setProcessors(java.util.Set)">setProcessors</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="LinuxSystemProfiler(java.util.Set, java.util.Set, java.util.Set)"><!-- --></A><H3>
LinuxSystemProfiler</H3>
<PRE>
public <B>LinuxSystemProfiler</B>(java.util.Set&lt;java.lang.String&gt;&nbsp;interfaces,
                           java.util.Set&lt;java.lang.String&gt;&nbsp;disks,
                           java.util.Set&lt;java.lang.String&gt;&nbsp;processors)
                    throws java.io.IOException</PRE>
<DL>
<DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="update()"><!-- --></A><H3>
update</H3>
<PRE>
public <A HREF="../../peregrine/sysstat/StatMeta.html" title="class in peregrine.sysstat">StatMeta</A> <B>update</B>()</PRE>
<DL>
<DD><B>Description copied from interface: <CODE><A HREF="../../peregrine/sysstat/SystemProfiler.html#update()">SystemProfiler</A></CODE></B></DD>
<DD>Basic stat update request.  the first time this is called we show the
 stats since the system was started (or stats have last rolled over).

 There is NO exception thrown by this method because we want
 implementations to not have to worry about how to handle failure.
 Internally we simply log that we failed.

 A null object pattern and empty StatMeta is returned which will not show
 any logging information.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="resolveMountPoint(java.lang.String)"><!-- --></A><H3>
resolveMountPoint</H3>
<PRE>
public java.lang.String <B>resolveMountPoint</B>(java.lang.String&nbsp;path)
                                   throws java.io.IOException</PRE>
<DL>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="sectorReference(java.lang.String)"><!-- --></A><H3>
sectorReference</H3>
<PRE>
public java.math.BigDecimal <B>sectorReference</B>(java.lang.String&nbsp;value)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/LinuxSystemProfiler.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../peregrine/sysstat/InterfaceStat.html" title="class in peregrine.sysstat"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../peregrine/sysstat/Main.html" title="class in peregrine.sysstat"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?peregrine/sysstat/LinuxSystemProfiler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="LinuxSystemProfiler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2011 Kevin Burton. All Rights Reserved.
</BODY>
</HTML>
