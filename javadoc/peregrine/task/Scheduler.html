<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_43) on Tue Jul 16 13:32:56 PDT 2013 -->
<TITLE>
Scheduler (Peregrine 0.9.0 API)
</TITLE>

<META NAME="date" CONTENT="2013-07-16">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="Scheduler (Peregrine 0.9.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Scheduler.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../peregrine/task/Report.Metric.html" title="class in peregrine.task"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../peregrine/task/Task.html" title="interface in peregrine.task"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?peregrine/task/Scheduler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Scheduler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
peregrine.task</FONT>
<BR>
Class Scheduler</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../resources/inherit.gif" ALT="extended by "><B>peregrine.task.Scheduler</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>Scheduler</B><DT>extends java.lang.Object</DL>
</PRE>

<P>
<p>
 Handles work scheduling in the cluster.
 
 <h2>Overview</h2>
 
 <p>
 Handles work scheduling in the cluster.  RPC endpoints deliver messages
 to the scheduler, periodically it wakes up and looks for empty slots on
 machines which can do work and then schedules jobs when necessary.

 <h2>Speculative Execution</h2>
 
 <p> Speculative execution works by first executing partitions that have a
 higher priority.  Once we have spare hosts which have completed all their
 primary work, we do speculative execution on them by running partition which
 may be in flight on other hosts.

 <p> The system works by first sorting all potential replicas on the host by
 looking at the number of currently executing jobs and sorting them ascending
 so that jobs which have LESS speculative executions get bumped up higher.

 <p> Once one of the hosts reports a partition as complete, we mark it
 complete internally and then add requests into a prey queue to send RPC
 messages to these hosts to kill the extra tasks.

 <p> When the tasks die they send off an RPC message saying that they were
 failed and marked killed at which make these hosts available for more work.
 
 <h2> Speculative Sorting</h2>

 <p>When shuffle data is sent from map tasks, and there is a shuffle target,
 we can preemptively sort these files when machines are idle. They have to be
 sorted ANYWAY and we might as well do this while we have idle CPU time.
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#Scheduler(java.lang.String, peregrine.Job, peregrine.config.Config, peregrine.controller.ClusterState)">Scheduler</A></B>(java.lang.String&nbsp;operation,
          <A HREF="../../peregrine/Job.html" title="class in peregrine">Job</A>&nbsp;job,
          <A HREF="../../peregrine/config/Config.html" title="class in peregrine.config">Config</A>&nbsp;config,
          <A HREF="../../peregrine/controller/ClusterState.html" title="class in peregrine.controller">ClusterState</A>&nbsp;clusterState)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../peregrine/util/SimpleBlockingQueue.html" title="class in peregrine.util">SimpleBlockingQueue</A>&lt;<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#getAvailable()">getAvailable</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;com.google.common.collect.ImmutableSet&lt;<A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#getCompleted()">getCompleted</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;com.google.common.collect.ImmutableMap&lt;<A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>,java.util.Set&lt;<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&gt;&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#getExecuting()">getExecuting</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../peregrine/Job.html" title="class in peregrine">Job</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#getJob()">getJob</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.lang.String</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#getOperation()">getOperation</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;The operation in progress.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;int</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#getProgress()">getProgress</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;<A HREF="../../peregrine/task/Report.html" title="class in peregrine.task">Report</A></CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#getReport()">getReport</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get a report representing the GLOBAL state of all reports acros all
 partitions reporting.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;com.google.common.collect.ImmutableSet&lt;<A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#getScheduled()">getScheduled</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;java.util.Map&lt;java.lang.String,java.lang.String&gt;</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#getStatusAsMap()">getStatusAsMap</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Get the current status as a map.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#invoke(peregrine.config.Host, peregrine.task.Work)">invoke</A></B>(<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&nbsp;host,
       <A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&nbsp;work)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Must be implemented by schedulers to hand out work correctly.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#markComplete(peregrine.config.Host, peregrine.task.Work)">markComplete</A></B>(<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&nbsp;host,
             <A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&nbsp;work)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mark a job as complete.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#markFailed(peregrine.config.Host, peregrine.task.Work, boolean, java.lang.String)">markFailed</A></B>(<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&nbsp;host,
           <A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&nbsp;work,
           boolean&nbsp;killed,
           java.lang.String&nbsp;stacktrace)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Mark a job as failed.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#markOnline(peregrine.config.Host)">markOnline</A></B>(<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&nbsp;host)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#updateReport(peregrine.task.Report)">updateReport</A></B>(<A HREF="../../peregrine/task/Report.html" title="class in peregrine.task">Report</A>&nbsp;report)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;New report information is available.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;void</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../peregrine/task/Scheduler.html#waitForCompletion()">waitForCompletion</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Wait for all jobs to be complete.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="Scheduler(java.lang.String, peregrine.Job, peregrine.config.Config, peregrine.controller.ClusterState)"><!-- --></A><H3>
Scheduler</H3>
<PRE>
public <B>Scheduler</B>(java.lang.String&nbsp;operation,
                 <A HREF="../../peregrine/Job.html" title="class in peregrine">Job</A>&nbsp;job,
                 <A HREF="../../peregrine/config/Config.html" title="class in peregrine.config">Config</A>&nbsp;config,
                 <A HREF="../../peregrine/controller/ClusterState.html" title="class in peregrine.controller">ClusterState</A>&nbsp;clusterState)
          throws java.io.IOException</PRE>
<DL>
<DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="getOperation()"><!-- --></A><H3>
getOperation</H3>
<PRE>
public java.lang.String <B>getOperation</B>()</PRE>
<DL>
<DD>The operation in progress.  Can be map reduce or merge.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getCompleted()"><!-- --></A><H3>
getCompleted</H3>
<PRE>
public com.google.common.collect.ImmutableSet&lt;<A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&gt; <B>getCompleted</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getScheduled()"><!-- --></A><H3>
getScheduled</H3>
<PRE>
public com.google.common.collect.ImmutableSet&lt;<A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&gt; <B>getScheduled</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getExecuting()"><!-- --></A><H3>
getExecuting</H3>
<PRE>
public com.google.common.collect.ImmutableMap&lt;<A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>,java.util.Set&lt;<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&gt;&gt; <B>getExecuting</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getAvailable()"><!-- --></A><H3>
getAvailable</H3>
<PRE>
public <A HREF="../../peregrine/util/SimpleBlockingQueue.html" title="class in peregrine.util">SimpleBlockingQueue</A>&lt;<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&gt; <B>getAvailable</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getJob()"><!-- --></A><H3>
getJob</H3>
<PRE>
public <A HREF="../../peregrine/Job.html" title="class in peregrine">Job</A> <B>getJob</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="invoke(peregrine.config.Host, peregrine.task.Work)"><!-- --></A><H3>
invoke</H3>
<PRE>
public void <B>invoke</B>(<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&nbsp;host,
                   <A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&nbsp;work)
            throws java.lang.Exception</PRE>
<DL>
<DD>Must be implemented by schedulers to hand out work correctly.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="updateReport(peregrine.task.Report)"><!-- --></A><H3>
updateReport</H3>
<PRE>
public void <B>updateReport</B>(<A HREF="../../peregrine/task/Report.html" title="class in peregrine.task">Report</A>&nbsp;report)</PRE>
<DL>
<DD>New report information is available.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getReport()"><!-- --></A><H3>
getReport</H3>
<PRE>
public <A HREF="../../peregrine/task/Report.html" title="class in peregrine.task">Report</A> <B>getReport</B>()</PRE>
<DL>
<DD>Get a report representing the GLOBAL state of all reports acros all
 partitions reporting.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="markComplete(peregrine.config.Host, peregrine.task.Work)"><!-- --></A><H3>
markComplete</H3>
<PRE>
public void <B>markComplete</B>(<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&nbsp;host,
                         <A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&nbsp;work)</PRE>
<DL>
<DD>Mark a job as complete.  The RPC service calls this method when we are
 List<Partition> partitions = config..getMembership()done with a job.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="markFailed(peregrine.config.Host, peregrine.task.Work, boolean, java.lang.String)"><!-- --></A><H3>
markFailed</H3>
<PRE>
public void <B>markFailed</B>(<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&nbsp;host,
                       <A HREF="../../peregrine/task/Work.html" title="class in peregrine.task">Work</A>&nbsp;work,
                       boolean&nbsp;killed,
                       java.lang.String&nbsp;stacktrace)</PRE>
<DL>
<DD>Mark a job as failed.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="markOnline(peregrine.config.Host)"><!-- --></A><H3>
markOnline</H3>
<PRE>
public void <B>markOnline</B>(<A HREF="../../peregrine/config/Host.html" title="class in peregrine.config">Host</A>&nbsp;host)</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="waitForCompletion()"><!-- --></A><H3>
waitForCompletion</H3>
<PRE>
public void <B>waitForCompletion</B>()
                       throws java.lang.Exception</PRE>
<DL>
<DD>Wait for all jobs to be complete.  This also performs scheduling in this
 thread until we are done executing.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.lang.Exception</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="getStatusAsMap()"><!-- --></A><H3>
getStatusAsMap</H3>
<PRE>
public java.util.Map&lt;java.lang.String,java.lang.String&gt; <B>getStatusAsMap</B>()</PRE>
<DL>
<DD>Get the current status as a map.
<P>
<DD><DL>
</DL>
</DD>
</DL>
<HR>

<A NAME="getProgress()"><!-- --></A><H3>
getProgress</H3>
<PRE>
public int <B>getProgress</B>()</PRE>
<DL>
<DD><DL>
</DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/Scheduler.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../peregrine/task/Report.Metric.html" title="class in peregrine.task"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../peregrine/task/Task.html" title="interface in peregrine.task"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../index.html?peregrine/task/Scheduler.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="Scheduler.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2011 Kevin Burton. All Rights Reserved.
</BODY>
</HTML>
