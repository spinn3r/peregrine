<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<!--NewPage-->
<HTML>
<HEAD>
<!-- Generated by javadoc (build 1.6.0_43) on Mon Jun 24 12:32:19 PDT 2013 -->
<TITLE>
ShufflerRPCDelegate (Peregrine 0.8.0 API)
</TITLE>

<META NAME="date" CONTENT="2013-06-24">

<LINK REL ="stylesheet" TYPE="text/css" HREF="../../../../stylesheet.css" TITLE="Style">

<SCRIPT type="text/javascript">
function windowTitle()
{
    if (location.href.indexOf('is-external=true') == -1) {
        parent.document.title="ShufflerRPCDelegate (Peregrine 0.8.0 API)";
    }
}
</SCRIPT>
<NOSCRIPT>
</NOSCRIPT>

</HEAD>

<BODY BGCOLOR="white" onload="windowTitle();">
<HR>


<!-- ========= START OF TOP NAVBAR ======= -->
<A NAME="navbar_top"><!-- --></A>
<A HREF="#skip-navbar_top" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_top_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ShufflerRPCDelegate.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../peregrine/worker/rpcd/delegate/ReducerRPCDelegate.html" title="class in peregrine.worker.rpcd.delegate"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../peregrine/worker/rpcd/delegate/SystemRPCDelegate.html" title="class in peregrine.worker.rpcd.delegate"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?peregrine/worker/rpcd/delegate/ShufflerRPCDelegate.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ShufflerRPCDelegate.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_top"></A>
<!-- ========= END OF TOP NAVBAR ========= -->

<HR>
<!-- ======== START OF CLASS DATA ======== -->
<H2>
<FONT SIZE="-1">
peregrine.worker.rpcd.delegate</FONT>
<BR>
Class ShufflerRPCDelegate</H2>
<PRE>
java.lang.Object
  <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><A HREF="../../../../peregrine/rpcd/delegate/RPCDelegate.html" title="class in peregrine.rpcd.delegate">peregrine.rpcd.delegate.RPCDelegate</A>&lt;<A HREF="../../../../peregrine/worker/WorkerDaemon.html" title="class in peregrine.worker">WorkerDaemon</A>&gt;
      <IMG SRC="../../../../resources/inherit.gif" ALT="extended by "><B>peregrine.worker.rpcd.delegate.ShufflerRPCDelegate</B>
</PRE>
<HR>
<DL>
<DT><PRE>public class <B>ShufflerRPCDelegate</B><DT>extends <A HREF="../../../../peregrine/rpcd/delegate/RPCDelegate.html" title="class in peregrine.rpcd.delegate">RPCDelegate</A>&lt;<A HREF="../../../../peregrine/worker/WorkerDaemon.html" title="class in peregrine.worker">WorkerDaemon</A>&gt;</DL>
</PRE>

<P>
Handles all shuffle related RPC messages.

 <h2>Protocol interaction</h2>
 <p>
 <img src="https://bitbucket.org/burtonator/peregrine/raw/78abaa786a1b650601eed017bff573f968bf403f/misc/shuffle-flush.png" border="1"/>
<P>

<P>
<HR>

<P>

<!-- ======== CONSTRUCTOR SUMMARY ======== -->

<A NAME="constructor_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Constructor Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><B><A HREF="../../../../peregrine/worker/rpcd/delegate/ShufflerRPCDelegate.html#ShufflerRPCDelegate()">ShufflerRPCDelegate</A></B>()</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</TD>
</TR>
</TABLE>
&nbsp;
<!-- ========== METHOD SUMMARY =========== -->

<A NAME="method_summary"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="2"><FONT SIZE="+2">
<B>Method Summary</B></FONT></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.jboss.netty.buffer.ChannelBuffer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../peregrine/worker/rpcd/delegate/ShufflerRPCDelegate.html#delete(peregrine.worker.WorkerDaemon, org.jboss.netty.channel.Channel, peregrine.rpc.Message)">delete</A></B>(<A HREF="../../../../peregrine/worker/WorkerDaemon.html" title="class in peregrine.worker">WorkerDaemon</A>&nbsp;daemon,
       org.jboss.netty.channel.Channel&nbsp;channel,
       <A HREF="../../../../peregrine/rpc/Message.html" title="class in peregrine.rpc">Message</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Delete all the shuffle data on disk for the shuffle with the given name.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.jboss.netty.buffer.ChannelBuffer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../peregrine/worker/rpcd/delegate/ShufflerRPCDelegate.html#flush(peregrine.worker.WorkerDaemon, org.jboss.netty.channel.Channel, peregrine.rpc.Message)">flush</A></B>(<A HREF="../../../../peregrine/worker/WorkerDaemon.html" title="class in peregrine.worker">WorkerDaemon</A>&nbsp;daemon,
      org.jboss.netty.channel.Channel&nbsp;channel,
      <A HREF="../../../../peregrine/rpc/Message.html" title="class in peregrine.rpc">Message</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Flush pending shuffle data to disk.</TD>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD ALIGN="right" VALIGN="top" WIDTH="1%"><FONT SIZE="-1">
<CODE>&nbsp;org.jboss.netty.buffer.ChannelBuffer</CODE></FONT></TD>
<TD><CODE><B><A HREF="../../../../peregrine/worker/rpcd/delegate/ShufflerRPCDelegate.html#purge(peregrine.worker.WorkerDaemon, org.jboss.netty.channel.Channel, peregrine.rpc.Message)">purge</A></B>(<A HREF="../../../../peregrine/worker/WorkerDaemon.html" title="class in peregrine.worker">WorkerDaemon</A>&nbsp;daemon,
      org.jboss.netty.channel.Channel&nbsp;channel,
      <A HREF="../../../../peregrine/rpc/Message.html" title="class in peregrine.rpc">Message</A>&nbsp;message)</CODE>

<BR>
&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Purge all shuffle data in the shuffle directory.</TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_peregrine.rpcd.delegate.RPCDelegate"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class peregrine.rpcd.delegate.<A HREF="../../../../peregrine/rpcd/delegate/RPCDelegate.html" title="class in peregrine.rpcd.delegate">RPCDelegate</A></B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE><A HREF="../../../../peregrine/rpcd/delegate/RPCDelegate.html#handleMessage(T, org.jboss.netty.channel.Channel, peregrine.rpc.Message)">handleMessage</A></CODE></TD>
</TR>
</TABLE>
&nbsp;<A NAME="methods_inherited_from_class_java.lang.Object"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#EEEEFF" CLASS="TableSubHeadingColor">
<TH ALIGN="left"><B>Methods inherited from class java.lang.Object</B></TH>
</TR>
<TR BGCOLOR="white" CLASS="TableRowColor">
<TD><CODE>equals, getClass, hashCode, notify, notifyAll, toString, wait, wait, wait</CODE></TD>
</TR>
</TABLE>
&nbsp;
<P>

<!-- ========= CONSTRUCTOR DETAIL ======== -->

<A NAME="constructor_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Constructor Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="ShufflerRPCDelegate()"><!-- --></A><H3>
ShufflerRPCDelegate</H3>
<PRE>
public <B>ShufflerRPCDelegate</B>()</PRE>
<DL>
</DL>

<!-- ============ METHOD DETAIL ========== -->

<A NAME="method_detail"><!-- --></A>
<TABLE BORDER="1" WIDTH="100%" CELLPADDING="3" CELLSPACING="0" SUMMARY="">
<TR BGCOLOR="#CCCCFF" CLASS="TableHeadingColor">
<TH ALIGN="left" COLSPAN="1"><FONT SIZE="+2">
<B>Method Detail</B></FONT></TH>
</TR>
</TABLE>

<A NAME="flush(peregrine.worker.WorkerDaemon, org.jboss.netty.channel.Channel, peregrine.rpc.Message)"><!-- --></A><H3>
flush</H3>
<PRE>
public org.jboss.netty.buffer.ChannelBuffer <B>flush</B>(<A HREF="../../../../peregrine/worker/WorkerDaemon.html" title="class in peregrine.worker">WorkerDaemon</A>&nbsp;daemon,
                                                  org.jboss.netty.channel.Channel&nbsp;channel,
                                                  <A HREF="../../../../peregrine/rpc/Message.html" title="class in peregrine.rpc">Message</A>&nbsp;message)
                                           throws java.io.IOException</PRE>
<DL>
<DD>Flush pending shuffle data to disk.  This is called at the end of jobs to
 verify that we don't have pending shuffle data in memory.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="delete(peregrine.worker.WorkerDaemon, org.jboss.netty.channel.Channel, peregrine.rpc.Message)"><!-- --></A><H3>
delete</H3>
<PRE>
public org.jboss.netty.buffer.ChannelBuffer <B>delete</B>(<A HREF="../../../../peregrine/worker/WorkerDaemon.html" title="class in peregrine.worker">WorkerDaemon</A>&nbsp;daemon,
                                                   org.jboss.netty.channel.Channel&nbsp;channel,
                                                   <A HREF="../../../../peregrine/rpc/Message.html" title="class in peregrine.rpc">Message</A>&nbsp;message)
                                            throws java.io.IOException</PRE>
<DL>
<DD>Delete all the shuffle data on disk for the shuffle with the given name.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<HR>

<A NAME="purge(peregrine.worker.WorkerDaemon, org.jboss.netty.channel.Channel, peregrine.rpc.Message)"><!-- --></A><H3>
purge</H3>
<PRE>
public org.jboss.netty.buffer.ChannelBuffer <B>purge</B>(<A HREF="../../../../peregrine/worker/WorkerDaemon.html" title="class in peregrine.worker">WorkerDaemon</A>&nbsp;daemon,
                                                  org.jboss.netty.channel.Channel&nbsp;channel,
                                                  <A HREF="../../../../peregrine/rpc/Message.html" title="class in peregrine.rpc">Message</A>&nbsp;message)
                                           throws java.io.IOException</PRE>
<DL>
<DD>Purge all shuffle data in the shuffle directory.  This is done BEFORE
 batch jobs to verify that we don't have any shuffle data (incorrectly)
 sitting around from the previous batch job.  Shuffle data may be used
 <b>within</b> a Batch but not between batches.
<P>
<DD><DL>

<DT><B>Throws:</B>
<DD><CODE>java.io.IOException</CODE></DL>
</DD>
</DL>
<!-- ========= END OF CLASS DATA ========= -->
<HR>


<!-- ======= START OF BOTTOM NAVBAR ====== -->
<A NAME="navbar_bottom"><!-- --></A>
<A HREF="#skip-navbar_bottom" title="Skip navigation links"></A>
<TABLE BORDER="0" WIDTH="100%" CELLPADDING="1" CELLSPACING="0" SUMMARY="">
<TR>
<TD COLSPAN=2 BGCOLOR="#EEEEFF" CLASS="NavBarCell1">
<A NAME="navbar_bottom_firstrow"><!-- --></A>
<TABLE BORDER="0" CELLPADDING="0" CELLSPACING="3" SUMMARY="">
  <TR ALIGN="center" VALIGN="top">
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../overview-summary.html"><FONT CLASS="NavBarFont1"><B>Overview</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-summary.html"><FONT CLASS="NavBarFont1"><B>Package</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#FFFFFF" CLASS="NavBarCell1Rev"> &nbsp;<FONT CLASS="NavBarFont1Rev"><B>Class</B></FONT>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="class-use/ShufflerRPCDelegate.html"><FONT CLASS="NavBarFont1"><B>Use</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="package-tree.html"><FONT CLASS="NavBarFont1"><B>Tree</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../deprecated-list.html"><FONT CLASS="NavBarFont1"><B>Deprecated</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../index-all.html"><FONT CLASS="NavBarFont1"><B>Index</B></FONT></A>&nbsp;</TD>
  <TD BGCOLOR="#EEEEFF" CLASS="NavBarCell1">    <A HREF="../../../../help-doc.html"><FONT CLASS="NavBarFont1"><B>Help</B></FONT></A>&nbsp;</TD>
  </TR>
</TABLE>
</TD>
<TD ALIGN="right" VALIGN="top" ROWSPAN=3><EM>
</EM>
</TD>
</TR>

<TR>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
&nbsp;<A HREF="../../../../peregrine/worker/rpcd/delegate/ReducerRPCDelegate.html" title="class in peregrine.worker.rpcd.delegate"><B>PREV CLASS</B></A>&nbsp;
&nbsp;<A HREF="../../../../peregrine/worker/rpcd/delegate/SystemRPCDelegate.html" title="class in peregrine.worker.rpcd.delegate"><B>NEXT CLASS</B></A></FONT></TD>
<TD BGCOLOR="white" CLASS="NavBarCell2"><FONT SIZE="-2">
  <A HREF="../../../../index.html?peregrine/worker/rpcd/delegate/ShufflerRPCDelegate.html" target="_top"><B>FRAMES</B></A>  &nbsp;
&nbsp;<A HREF="ShufflerRPCDelegate.html" target="_top"><B>NO FRAMES</B></A>  &nbsp;
&nbsp;<SCRIPT type="text/javascript">
  <!--
  if(window==top) {
    document.writeln('<A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>');
  }
  //-->
</SCRIPT>
<NOSCRIPT>
  <A HREF="../../../../allclasses-noframe.html"><B>All Classes</B></A>
</NOSCRIPT>


</FONT></TD>
</TR>
<TR>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
  SUMMARY:&nbsp;NESTED&nbsp;|&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_summary">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_summary">METHOD</A></FONT></TD>
<TD VALIGN="top" CLASS="NavBarCell3"><FONT SIZE="-2">
DETAIL:&nbsp;FIELD&nbsp;|&nbsp;<A HREF="#constructor_detail">CONSTR</A>&nbsp;|&nbsp;<A HREF="#method_detail">METHOD</A></FONT></TD>
</TR>
</TABLE>
<A NAME="skip-navbar_bottom"></A>
<!-- ======== END OF BOTTOM NAVBAR ======= -->

<HR>
Copyright &copy; 2011 Kevin Burton. All Rights Reserved.
</BODY>
</HTML>
